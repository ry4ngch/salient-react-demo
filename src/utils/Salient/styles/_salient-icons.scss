$icon-size: 14px;
.icon{ 
    float:left;
    width:$icon-size; 
    aspect-ratio: 1;
    position:relative; 
    display:block; 
}
.icon:before, 
.icon:after{ 
    position:absolute; 
    content:""; 
    display:block; 
}

.icon-search, 
.icon-file:before, 
.icon-flag, 
.icon-tag, 
.icon-link, 
.icon-heart:before, 
.icon-heart:after,
.icon-left:after,
.icon-right:before,
.icon-up:after,
.icon-down:before{ 
    -webkit-transform:rotate(-45deg);
    -moz-transform:rotate(-45deg);
    -ms-transform:rotate(-45deg);
    -o-transform:rotate(-45deg);
    transform:rotate(-45deg);
}

.icon-comment:after,
.icon-wrench,
.icon-heart:after,
.icon-forbidden:after,
.icon-left:before,
.icon-right:after,
.icon-up:before,
.icon-down:after{
    -webkit-transform:rotate(45deg);
    -moz-transform:rotate(45deg);
    -ms-transform:rotate(45deg);
    -o-transform:rotate(45deg);
    transform:rotate(45deg);
}

/* Search */
.icon-search {
    transform: translateY(-50%) translateX(-50%) rotate(-45deg);
    transform-origin: 100% 50%;
}
.icon-search:before{
    width:inherit;
    aspect-ratio: 1;
    border-radius:50%; 
    border: 2px solid;
}
.icon-search:after{ 
    width:4px; 
    height:10px; 
    top: calc(100% + 4px);  //4px from width
    left: 50%;
    box-shadow:0 0 0 2px inset; 
    border-radius:50%; 
}

/* Comment */
.icon-comment{ left:-1px; width:15px; }
.icon-comment:before{ 
    height:10px;
    width:16px; 
    border-radius:16px/10px; 
    box-shadow:0 0 0 16px inset; 
}
.icon-comment:after{ 
    border-top:16px solid; 
    border-left:3px solid transparent; 
    border-right:4px solid transparent; 
    top:2px;
    left:4px;
}

/* Gear */
.icon-gear:before{
    width:14px;
    height:14px;
    box-shadow:0 0 0 4px inset; 
    border-radius:16px; 
    border:1px dashed; 
    top:-1px;
    left:-1px;
}

/* Wrench */
.icon-wrench:before{ 
    width:4px; 
    height:5px; 
    top:-2px;
    left:3px;
    border:3px solid; 
    border-radius:5px; 
    border-top:none;
}
.icon-wrench:after{ 
    width:4px; 
    height:13px; 
    top:4px;
    left:6px;
    box-shadow:0 0 0 16px inset; 
    border-radius:3px; 
}

/* Profile */
.icon-profile:before{
    width:16px;
    height:8px;
    border-radius:8px 8px 0 0;
    box-shadow:0 0 0 16px inset;
    top:7px;
    left:-1px;
}
.icon-profile:after{
    width:7px;
    height:8px;
    box-shadow:0 0 0 16px inset;
    border-radius: 7px / 8px;
    left:3px;
}

/* Location */
.icon-location:before{ 
    width:8px; 
    height:8px; 
    left:3px;
    border-radius:8px; 
    box-shadow:0 0 0 3px inset; 
}
.icon-location:after{ 
    top:6px;
    left:3px;
    border-top:10px solid;
    border-left:4px solid transparent;
    border-right:4px solid transparent;
}

/* Video */
.icon-video:before{ 
    height:12px; 
    width:12px; 
    border-radius:3px; 
    box-shadow:0 0 0 15px inset; 
    top:1px; 
}
.icon-video:after{ 
    border-right:8px solid;
    border-top:4px solid transparent;
    border-bottom:4px solid transparent;
    top:3px;
    left:8px;
}

/* Photo */
.icon-photo:before{ 
    width:14px;
    height:14px;
    border-radius:14px;
    box-shadow:0 0 0 4px inset;
}
.icon-photo:after{ 
    width:14px; 
    height:12px; 
    box-shadow:0 0 0 2px inset; 
    top:1px; 
}

/* File */
.icon-file:before{ 
    border-top:5px solid;
    border-left:5px solid transparent;
    border-right:5px solid transparent;
    top:3px;
    left:1px;
}
.icon-file:after{ 
    width:11px; 
    height:14px; 
    box-shadow:0 0 0 2px inset; 
    border-radius:15px 0 0 0;
    left:1px; 
}

/* Folder */
.icon-folder:before{
    width:16px; 
    height:11px; 
    border-radius:2px 2px 0 0; 
    box-shadow:0 0 0 20px inset;
    top:3px;
    left:-1px;
}
.icon-folder:after{ 
    width:8px;
    height:5px;
    box-shadow:0 0 0 10px inset;
    border-radius: 1px 1px 0 0;
    left:1px;
}

/* Flag */
.icon-flag{ 
    height:16px; 
    width:8px;  
    border-left:2px solid;
    top:-2px;
    left:4px;
}
.icon-flag:before{ 
    width:6px; 
    height:8px; 
    box-shadow:0 0 0 10px inset; 
    top:1px;
}
.icon-flag:after{ 
    width:5px; 
    height:5px; 
    box-shadow:0 0 0 8px inset; 
    top:5px;
    left:5px;
}

/* Tag */
.icon-tag{ width:12px; height:14px; }
.icon-tag:before{ 
    width:8px; 
    height:8px; 
    box-shadow:0 0 0 2px inset; 
    border-radius:8px; 
    top:-2px;
    left:3px;
}
.icon-tag:after{ 
    width:8px; 
    height:12px;
    box-shadow:0 0 0 16px inset; 
    top:3px;
    left:3px;
}

/* Lock, Unlock */
.icon-lock:before, 
.icon-unlock:before{ 
    width:14px;
    height:10px;
    top:5px;
    border-radius:2px 2px 0 0;
    box-shadow:0 0 0 16px inset;
}
.icon-lock:after, 
.icon-unlock:after{ 
    height:4px;
    width:5px;
    border-radius:15px 15px 0 0;
    border:3px solid;
    border-bottom:none;
    top:-1px;
    left:1px;
}
.icon-unlock:after{ left:-4px; }

/* Link */
.icon-link{ 
    width:5px; 
    height:11px; 
    left:5px;
    border-left:3px solid;
}
.icon-link:before, 
.icon-link:after{ 
    width:5px; 
    height:7px; 
    border-radius:5px; 
    border:2px solid; 
    left:-6px; 
}
.icon-link:before{ border-bottom:none; top:-4px; } 
.icon-link:after{ border-top:none; top:6px; }

/* Bookmark */
.icon-bookmark:before{ 
    width:0; 
    height:5px; 
    border:5px solid; 
    border-bottom:6px solid transparent; 
    left:2px; 
}

/* List */
.icon-list:before,
.icon-list:after{ 
    height:2px; 
    width:16px; 
    border-top:3px solid; 
    border-bottom:3px solid;
    left:-1px;
}
.icon-list:after{ 
    border-top:none;
    border-bottom:3px solid; 
    top:8px; 
}

/* Heart */
.icon-heart:before, 
.icon-heart:after{ 
    width:10px;
    height:14px; 
    box-shadow:0 0 0 20px inset; 
    border-radius:20px 20px 0 0; 
    top:-1px;
}
.icon-heart:after{ left:4px; }

/* Share */
.icon-share{
    width:14px;
    -webkit-transform:rotate(10deg);
    -moz-transform:rotate(10deg);
    -ms-transform:rotate(10deg);
    -o-transform:rotate(10deg);
    transform:rotate(10deg);
}
.icon-share:before{ 
    height:0;
    border-left: 6px solid;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    left:8px;

}
.icon-share:after{ 
    width:14px;
    height:16px;
    border-radius:16px;
    border:0;
    border-top:5px solid;
    -webkit-transform:rotate(-25deg);
    -moz-transform:rotate(-25deg);
    -ms-transform:rotate(-25deg);
    -o-transform:rotate(-25deg);
    transform:rotate(-25deg);
    top:3px;
    left:2px;
}

/* Forbidden */
.icon-forbidden:before{ 
    width:14px; 
    height:14px; 
    box-shadow:0 0 0 3px inset; 
    border-radius:20px; 
}
.icon-forbidden:after{ 
    width:2px;
    height:12px;
    box-shadow:0 0 0 16px inset;
    top:1px;
    left:6px;
}

/* Sound */
.icon-sound:before{
    width:7px;
    height:8px;
    box-shadow:0 0 0 16px inset;
    top:3px;
    border-radius:2px;
}
.icon-sound:after{
    border-right:8px solid;
    border-top:8px solid transparent;
    border-bottom:8px solid transparent;
    top:-1px;
    left:5px;
}

/* Eject */
.icon-eject:before{ 
    width:0;
    border-bottom:8px solid; 
    border-right:8px solid transparent; 
    border-left:8px solid transparent; 
    left:-1px;
}
.icon-eject:after{ 
    height:4px; 
    width:16px;
    box-shadow:0 0 0 16px inset;
    top:10px;
    left:-1px;
}

/* Play */
.icon-play:before{
    border-left:9px solid;
    border-top:8px solid transparent;
    border-bottom:8px solid transparent;
    top:-1px;
    left:3px;
}

/* Pause */
.icon-pause:before, 
.icon-pause:after{
    width:4px;
    height:14px;
    box-shadow:0 0 0 16px inset;
    left:2px;
}
.icon-pause:after{ left:8px; }

/* Stop */
.icon-stop{ box-shadow:0 0 0 16px inset; }

/* Backward / Forward */
.icon-backward:before, 
.icon-backward:after,
.icon-forward:before, 
.icon-forward:after{
    border-top:8px solid transparent; 
    border-bottom:8px solid transparent;
    top:-1px;
    left:-1px;
}
.icon-backward:before, 
.icon-backward:after{ border-right:8px solid; }

.icon-forward:before, 
.icon-forward:after{ border-left:8px solid; }

.icon-backward:after,
.icon-forward:after{ left:7px; }

/* Step-Backward / Step-Forward */
.icon-step-backward:before,
.icon-step-forward:after{ 
    width:3px; 
    height:14px; 
    box-shadow:0 0 0 8px inset;
}
.icon-step-backward:after,
.icon-step-forward:before{
    border-top:8px solid transparent;
    border-bottom:8px solid transparent;
}
.icon-step-backward:before{ left:1px; }
.icon-step-backward:after{
    border-right:8px solid;
    top:-1px;
    left:4px;
}
.icon-step-forward:before{
    border-left:8px solid;
    top:-1px;
    left:1px;
}
.icon-step-forward:after{ left:10px; }

/* Filter */
.icon-filter:before{
    height:0;
    border-top:10px solid;
    border-left:7px solid transparent;
    border-right:7px solid transparent;
}
.icon-filter:after{
    width:4px;
    height:9px;
    box-shadow:0 0 0 16px inset;
    top:6px;
    left:5px;
}

/* Left / Right / Up / Down */
.icon-left:before,
.icon-left:after,
.icon-right:before,
.icon-right:after,
.icon-up:before,
.icon-up:after,
.icon-down:before,
.icon-down:after{
    width:3px;
    height:10px;
    box-shadow:0 0 0 16px inset;
    top:-1px;
    left:5px;
}
.icon-right:before, .icon-right:after{ left:6px; }
.icon-left:after, .icon-right:after{ top:5px; }
.icon-up:before, .icon-down:before{ left:3px; }
.icon-up:after, .icon-down:after{ left:8px; }
.icon-up:before, .icon-up:after, .icon-down:before, .icon-down:after{ top:2px; }

//left, up, right, down arrow with trailing tail
$arrow-line-width: 2px;
$arrow-head-width: calc($arrow-line-width * 4);

.icon-left-arrow::after,
.icon-right-arrow::after,
.icon-top-arrow::after,
.icon-bottom-arrow::after {
    content: '';
	height: 20px;
	width: $arrow-line-width !important;
    box-shadow: 0 0 0 20px inset;
}

.icon-left-arrow,
.icon-right-arrow,
.icon-top-arrow,
.icon-bottom-arrow {
	position: relative;
	// margin: auto;
	line-height: 1;
}

.icon-left-arrow::before,
.icon-right-arrow::before,
.icon-top-arrow::before,
.icon-bottom-arrow::before {
	top: -$arrow-line-width;
    left: 50%;
	width: $arrow-head-width;
	height: $arrow-head-width;
	border-top: solid $arrow-line-width;
	border-right: solid $arrow-line-width;
	border-top-right-radius: 1px;
	transform: translateX(-50%) rotate(-45deg);
	transform-origin: 50%;
}

.icon-left-arrow::after,
.icon-right-arrow::after,
.icon-top-arrow::after,
.icon-bottom-arrow::after{
    left: 50%;
    transform: translateX(-50%);
    top: -$arrow-line-width;
}

.icon-left-arrow {
	transform: rotate(-90deg);
}

.icon-right-arrow {
	transform: rotate(90deg);
}

.icon-bottom-arrow {
	transform: rotate(270deg);
}

/* Sort */
.icon-sort-by,
.icon-sort-by-fill,
.icon-top,
.icon-bottom  {
	height: max(50%, 16px);
}

.icon-sort-by::before,
.icon-sort-by::after{
	content: "";
	display: block;
	position: absolute;
	left: 50%;
	width: 8px;
	height: 8px;
	box-shadow: inset -2px -2px 0 0;
}

.icon-sort-by::before {
	top: 2px;
	transform: translateX(-50%) rotate(-135deg); /* Up arrow */
}

.icon-sort-by::after {
	bottom: 2px;
	transform: translateX(-50%) rotate(45deg); /* Down arrow */
}

.icon-sort-by-fill::before,
.icon-sort-by-fill::after,
.icon-top-fill::before,
.icon-bottom-fill::before {
	content: "";
	position: absolute;
	left: 50%;
	width: 8px;
	height: 8px;
	background-color: currentColor;
	clip-path: polygon(0 0, 100% 0, 0% 100%);
}

.icon-sort-by-fill::before {
	bottom: 2px;
	transform: translateX(-50%) rotate(-135deg); /* Down arrow */
}

.icon-sort-by-fill::after {
	top: 2px;
	transform: translateX(-50%) rotate(45deg); /* Up Arrow */
}

.icon-top-fill::before {
    transform: translateX(-50%) translateY(50%) rotate(45deg);
}

.icon-bottom-fill::before {
    transform: translateX(-50%) rotate(-135deg);
}

/** icon grip **/
.icon-drag {
    --dot-size: 3px; /* default dot size */
    --spacing: 5px;  /* default spacing between dots */
  
    width: 20px;     /* total icon width */
    height: 20px;    /* total icon height */
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    color: inherit; /* grip color */
}
  
.icon-drag::before {
    content: '';
    position: absolute;
    border-radius: 50%;

    /* calculate dot size based on icon size, fallback to 4px */
    width: var(--dot-size, 4px);
    height: var(--dot-size, 4px);
    background-color: currentColor;

    /* spacing variable */
    --s: var(--spacing, 6px);

    /* center the whole 2x3 grid dynamically */
    left: 50%;
    top: 50%;
    transform: translate(
        calc(-50% - var(--s)/2),   /* move left by half spacing */
        calc(-50% - var(--s))      /* move up by full spacing (2 rows) */
    );

    /* 6-dot grid using spacing variable */
    box-shadow:
        var(--s) 0 0 currentColor,             /* Right neighbor */
        0 var(--s) 0 currentColor,             /* Bottom neighbor */
        var(--s) var(--s) 0 currentColor,      /* Bottom-Right neighbor */
        0 calc(2 * var(--s)) 0 currentColor,   /* Bottom-Bottom neighbor */
        var(--s) calc(2 * var(--s)) 0 currentColor; /* Bottom-Bottom-Right neighbor */
}

.icon-close {

    width: min(50%, 10px);
    position: relative;

    &::before,
    &::after {
        content: '';
        display: block;
        position: absolute;
        width: 100%;
        top: 50%;
        left: 50%;
        height: 2px;
        border-radius: 1px;
        box-shadow: 0 0 0 20px inset;
    }

    &::before {
        transform: translate(-50%, -50%) rotate(135deg);
    }

    &::after {
        transform: translate(-50%, -50%) rotate(-135deg);
    }
}

.icon-phone{
    display: block;
    position: relative;

    &:before{
        width: 0.6em;
        height: 0.9em;
        border: 0.02em solid;
        border-top: 0.1em solid;
        border-bottom: 0.1em solid;
        top: 0;
        left: 0;
        border-radius: 0.1em;
    }
}

.icon-map-marker {
    display: block;
    position: relative;

    &::before {
        top: 0;
        left: 0;
        width: 0.7em;
        height: 0.7em;
        box-shadow: inset 0 0 0 0.08em;
        border-radius: 50% 50% 50% 0;
        transform: rotate(-45deg);
    }
}

.icon-cloud {
    // --width: 30px;
    background-color: currentColor;
    background-image: -webkit-linear-gradient(hsla(0,0%,0%,0), hsla(0,0%,0%,.1));
    border-radius: 1em; //calc(var(--width)/3);
    display: block;
    position: relative;
    aspect-ratio: 3/1;
    width: 30px;

    &::after,
    &::before {
        background-color: currentColor;
        content: '';
        border-radius: 100%;
        position: absolute;
    }

    &::after {
        background-image: -webkit-linear-gradient(hsla(0,0%,0%,0) 50%, hsla(0,0%,0%,.025));
        // background: linear-gradient(
        //     to bottom, 
        //     currentColor 50%, /* Top color ends exactly at 50% */
        //     transparent 50%  /* Bottom color starts exactly at 50% */
        // ); 
        height: 100%;
        right: 12%;
        top: -50%;
        width: 30%;
    }

    &::before {
        background-image: -webkit-linear-gradient(hsla(0,0%,0%,0) 50%, hsla(0,0%,0%,.075));
        // background: linear-gradient(
        //     to bottom, 
        //     currentColor 50%, /* Top color ends exactly at 50% */
        //     transparent 50%  /* Bottom color starts exactly at 50% */
        // ); 
        height: 160%;
        left: 12%;
        top: -75%;
        width: 50%;
    }
}


.icon-list {
    display: block;
    position: relative;

    &::before, &::after {
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        height: 2px;
        border-width: 6px 0;
        border-style: double;
        border-color: currentColor;
        background: transparent;
    }

    &::before {
        left: -2px;
        width: 2px;
    }
    
    &::after {
        width: 12px;
        
    }
}

.icon-download {
    top: 50%;
    position: relative;
    display: block;

    &::before {
        width: 14px;
        height: 8px;
        border: 3px solid currentColor;
        border-top: 0;
        margin-top: -5px;
        background: transparent;
    }

    &::after {
        left: 5px;
        border-width: 5px 5px 0;
        border-style: solid;
        border-color: currentColor transparent;
        margin-top: -5px;
        background: transparent;
    }
}


.icon-success {
    position: relative;
    display: inline-block;
    width: 20px;

    &::before,
    &::after {
        top: 50%;
    }
    
    &::before {
        left:50%;
        aspect-ratio: 1;
        position: absolute;
        width: inherit;
        -webkit-border-radius:100%;
        -moz-border-radius:100%;
        border-radius:100%;
        box-shadow:inset 0 0 0 2px;
        transform: translate(-50%, -50%);
    }

    &::after {
        left:50%;
        width:3px;
        height:8px;
        position: absolute;
        border-width:0 2px 2px 0;
        border-style:solid;
        -webkit-transform: translate(-50%, -50%) rotate(45deg);
        -moz-transform:translate(-50%, -50%) rotate(45deg);
        -ms-transform:translate(-50%, -50%) rotate(45deg);
        -o-transform:translate(-50%, -50%) rotate(45deg);
        transform:translate(-50%, -50%) rotate(45deg);
    }
}

.icon-warning {
    position: relative;
    width: 20px;
    height: 17px;
    border-left: 3px solid transparent;
    border-bottom: 3px solid
}
.icon-warning,
.icon-warning::before {
    display: block;
    border-radius: 3px;
    box-sizing: border-box;
    border-right: 3px solid transparent
}

.icon-warning::before {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    left: 50%;
    top: calc(100% + 1.75px);
    border-left: 3px solid;
    border-top: 3px solid;
    border-bottom: 3px solid transparent;
    transform: translate(-50%, -50%) rotate(45deg) skew(15deg,15deg);
}

.icon-warning::after {
    content: '\0021';
    position: absolute;
    font-size: 10px;
    font-style: normal;
    font-weight: bold;
    top: calc(50% + 1.5px);
    left: 50%;
    transform: translate(-50%, -50%);
}





.icon-clock {
    border-color: currentColor;
    width: 18px;
    aspect-ratio: 1;
    border-radius: 100%;
    border: 2px solid currentColor;
    box-sizing: border-box;
    position: relative;
    
    &:before {
      width: 3px;
      height: 4px;
      position: absolute;
      transform: translate(-50%, -50%);
      top: 50%;
      left: calc(50% + 1.5px);
      margin-left: -1px;
      content: '';
      border-left: 2px solid currentColor;
      border-bottom: 2px solid currentColor;
    }
}

// for stacking multiple icon on top of each other
.stack-icon {
    position: relative;
    display: flex;
    align-items: center;
    vertical-align: middle;
    justify-content: center;
    flex-direction: row;
    flex-basis: 100%;

    *:not(:first-child) {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    .invert-icon-color {
        filter: invert(100%);
    }

    .blend-icon-color {
        mix-blend-mode: difference;
    }
}

@mixin generate-icon-sizes($sizes...) {
    @each $size in $sizes {
        .size-#{$size}x {
            width: calc(#{$size}*1em);
        }
    }
}

@include generate-icon-sizes(2, 3, 4, 5, 6, 7, 8, 9, 10);
  
